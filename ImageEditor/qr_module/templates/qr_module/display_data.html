{% extends 'base.html' %}
{% load static %}
{% block body %}
<div class="container">
    <div class="w-100 d-block success-message">
        <div class="alert alert-success text-center" role="alert">
            Your QR Code Has Been Processed Successfully!
        </div>
    </div>

    <!-- Displaying the uploaded image -->
    <div class="image-container text-center">
        <img src="{{ url }}" alt="Uploaded QR Code" class="img-fluid" style="max-width: 300px;">
    </div>

    <!-- Displaying the QR code data -->
    <div class="mt-3 text-center">
        <textarea id="qr-data-box" class="form-control" rows="5" readonly>{{ data }}</textarea>
        <button type="button" id="copy-button" class="btn btn-primary mt-3">Copy QR Code Data</button>
    </div>
</div>

<script>
    // JavaScript to copy QR code data to clipboard
    document.getElementById('copy-button').addEventListener('click', function() {
        const qrDataBox = document.getElementById('qr-data-box');
        qrDataBox.select();
        qrDataBox.setSelectionRange(0, 99999); // For mobile devices
        document.execCommand('copy');
        alert('QR Code data copied to clipboard!');
    });
</script>
{% endblock body %}
